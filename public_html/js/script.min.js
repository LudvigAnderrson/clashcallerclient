function basenrImage(nr){function nr2Img(nr){var o={nr:nr};return Mustache.render("<img src='images/{{nr}}.png' />",o)}if("number"==typeof nr){if(nr>99&&1e3>nr){var ental=nr%100%10;console.log(ental);var tiotal=nr%10%10,hundratal=Math.floor(nr/100);return nr2Img(hundratal)+nr2Img(tiotal)+nr2Img(ental)}if(nr>=10){var ental=nr%10,tiotal=Math.floor(nr/10);return nr2Img(tiotal)+nr2Img(ental)}if(nr>=0)return nr2Img(nr)}}function updateWar(warid,basenr,stars){var fight={warid:warid,basenr:basenr,stars:stars},url=Mustache.render("http://10.97.72.5:8080/api/cc/{{warid}}/{{basenr}}/{{stars}}",fight);$.ajax({url:url,type:"PUT",success:function(data,textStatus,jqXHR){location.reload()}})}$(document).ready(function(){var warid=getUrlParameter("id"),url="http://10.97.72.5:8080/api/cc/war/"+warid;$.getJSON(url,function(data){var table="<table class='table table-striped'>";$.each(data,function(key,value){var output={warid:warid,nr:value.basenr,stars:1},row="<tr>";row+="<td>"+basenrImage(value.basenr)+"</td>";for(var img_stars="<td>";output.stars<=value.stars;)img_stars+=Mustache.render("<img src='images/star.png' alt='star' onclick='updateWar({{warid}},{{nr}},{{stars}});' />",output),output.stars++;for(;output.stars<=3;)img_stars+=Mustache.render("<img src='images/star.png' alt='star' onclick='updateWar({{warid}},{{nr}},{{stars}});' class='transparant' />",output),output.stars++;img_stars+="<td/>",row+=img_stars+"</tr>",table+=row}),table+="</table>",$("#war").append(table)})});var getUrlParameter=function(sParam){var sParameterName,i,sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split("&");for(i=0;i<sURLVariables.length;i++)if(sParameterName=sURLVariables[i].split("="),sParameterName[0]===sParam)return void 0===sParameterName[1]?!0:sParameterName[1]};